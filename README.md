# K_blaster_one

Developed with Unreal Engine 5

[![pAeWiqO.png](https://s21.ax1x.com/2024/09/08/pAeWiqO.png)](https://imgse.com/i/pAeWiqO)

- 在线子系统

- 自定义HUD插件

- 动画混合

- RPC和Replication

- 高速子弹的命中判定（击中静止物体和击中移动物体）

- 对于投掷手雷这样的动作，延迟补偿的具体策略：

  - 时间回溯（Lag Compensation）：服务器会记录玩家的动作和状态，并保留一段时间内的历史数据。当服务器接收到玩家投掷手雷的指令时，它会根据玩家的延迟回溯到投掷发生的时间点，并在那个时间点计算手雷的投掷轨迹和爆炸效果。

  - 客户端预测（Client Prediction）：客户端在发送投掷手雷的指令给服务器的同时，会立即在本地模拟手雷的投掷动作和轨迹。当服务器的响应到达后，客户端会根据服务器的计算结果进行校正，以减少玩家感知到的延迟。

  - 服务器重放（Server Reconciliation）：当客户端接收到服务器的校正信息后，客户端会重新模拟手雷的投掷轨迹，以确保与服务器的计算结果一致。这个过程可能会涉及到对客户端之前的预测进行修正。

  - 命中检测（Hit Detection）：在手雷爆炸时，服务器会根据玩家的延迟计算爆炸的有效时间窗口，并在这个时间窗口内检测哪些玩家或物体受到伤害。这样可以确保即使玩家之间存在延迟差异，也能获得公平的伤害判定。

  - 爆炸同步（Explosion Synchronization）：服务器会同步爆炸的确切时间和位置给所有玩家，以确保每个玩家都能在相同的时间看到爆炸并感受到爆炸的影响。

- 命中检测（Hit Detection）

  - 时间回溯（Lag Compensation）：服务器会记录玩家的历史位置和状态信息，当手雷爆炸时，服务器会根据每个玩家的延迟回溯到爆炸发生时的时间点，并在那个时间点进行命中检测。这意味着即使玩家在他们的屏幕上已经移动到安全位置，但如果在服务器计算的爆炸有效时间窗口内他们被判定在伤害范围内，那么他们仍然会受到伤害。
  - 客户端预测与服务器校正（Client Prediction & Server Reconciliation）：客户端会预测手雷的爆炸效果，并立即显示给玩家。当服务器的命中检测结果到达客户端时，客户端会根据服务器的结果进行校正。如果客户端的预测与服务器的结果不一致，客户端会更新玩家的状态以匹配服务器的结果。
  - 命中检测缓冲（Hit Detection Buffering）：服务器会在手雷爆炸时创建一个时间缓冲区，以考虑玩家之间的延迟差异。在这个缓冲区内，服务器会检测所有可能受到影响的玩家，并根据他们在爆炸时刻的位置来判定是否命中。
  - 爆炸同步（Explosion Synchronization）：服务器会确保所有玩家在相同的游戏时间内看到手雷爆炸，这样可以保证所有玩家都有相同的反应时间来避免爆炸伤害。
  - 伤害插值（Damage Interpolation）：在某些情况下，服务器可能会对玩家受到的伤害进行插值处理，以平滑因延迟造成的伤害不一致问题。这意味着即使玩家在爆炸发生时已经移动，服务器也会根据他们移动前后的位置来计算一个平均的伤害值。

  >  通过这些策略，可以在一定程度上解决由于网络延迟导致的有效时间窗口问题，



